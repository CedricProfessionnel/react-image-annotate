(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{276:function(e,t,n){e.exports=n(902)},711:function(e,t,n){},901:function(e,t,n){},902:function(e,t,n){"use strict";n.r(t);var a,o=n(0),i=n.n(o),r=n(18),c=n.n(r),l=n(935),s=n(261),u=n(938),d=Object(l.a)({container:{fontFamily:'"Inter", sans-serif'}}),g=Object(s.a)({typography:{fontFamily:'"Inter", "Roboto", sans-serif'},overrides:{MuiButton:{root:{textTransform:"none"}}}}),m=function(e){var t=e.children,n=d();return i.a.createElement(u.a,{theme:g},i.a.createElement("div",{className:n.container},t))},h=n(10),f=n(183),p=n(63),b=n(956),v=n(958),y=n(942),E=n(943),O=n(944),x=n(162),j=n.n(x),w=Object(l.a)({editBar:{padding:10,borderBottom:"1px solid #ccc",backgroundColor:"#f8f8f8",display:"flex",alignItems:"center","& .button":{margin:5}},select:{width:240,fontSize:14},contentArea:{padding:10},specificationArea:{padding:10}}),I=function(){try{return JSON.parse(window.localStorage.getItem("customInput")||"{}")}catch(e){return{}}},T={"Simple Bounding Box":function(){return{taskDescription:"Annotate each image according to this _markdown_ specification.",regionTagList:["has-bun"],regionClsList:["hotdog","not-hotdog"],enabledTools:["select","create-box"],images:[{src:"https://images.unsplash.com/photo-1496905583330-eb54c7e5915a?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=634&q=80",name:"hot-dogs-1"}]}},"Simple Segmentation":function(){return{taskDescription:"Annotate each image according to this _markdown_ specification.",regionClsList:["car","truck"],enabledTools:["select","create-polygon"],images:[{src:"https://images.unsplash.com/photo-1561518776-e76a5e48f731?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=750&q=80",name:"car-image-1"}]}},Custom:function(){return I()}},C=function(e){var t=e.onOpenAnnotator,n=e.lastOutput,a=w(),r=Object(o.useState)(),c=Object(h.a)(r,2),l=c[0],s=c[1],u=Object(o.useState)(window.localStorage.getItem("customInput")?"Custom":"Simple Bounding Box"),d=Object(h.a)(u,2),g=d[0],m=d[1],x=Object(o.useState)(!1),C=Object(h.a)(x,2),S=C[0],N=C[1],A=Object(o.useState)(JSON.stringify(T[g](),null,"  ")),k=Object(h.a)(A,2),M=k[0],R=k[1];return i.a.createElement("div",null,i.a.createElement("div",{className:a.editBar},i.a.createElement("h3",null,"React Image Annotate"),i.a.createElement("div",{style:{flexGrow:1}}),i.a.createElement("div",null,i.a.createElement("div",{style:{display:"inline-flex"}},i.a.createElement(p.default,{className:a.select,value:{label:g,value:g},options:Object.keys(T).map(function(e){return{label:e,value:e}}),onChange:function(e){m(e.value),R(JSON.stringify("Custom"===e.value?I():T[e.value](),null,"  "))}})),i.a.createElement(f.a,{className:"button",disabled:!n,onClick:function(){return N(!0)}},"View Output"),i.a.createElement(f.a,{className:"button",variant:"outlined",disabled:Boolean(l),onClick:function(){return t("Custom"===g?I():T[g])}},"Open Annotator"))),i.a.createElement("div",{className:a.contentArea,style:l?{border:"2px solid #f00"}:{border:"2px solid #fff"}},i.a.createElement("div",null,i.a.createElement(j.a,{value:M,language:"javascript",onChange:function(e){try{window.localStorage.setItem("customInput",JSON.stringify(JSON.parse(e))),s(null)}catch(t){s(t.toString())}R(e)},width:"100%",height:"550px"}))),i.a.createElement("div",{className:a.specificationArea},i.a.createElement("h2",null,"React Image Annotate Format"),i.a.createElement(b.a,{language:"javascript"},'\n{\n  taskDescription?: string, // markdown\n  regionTagList?: Array<string>,\n  regionClsList?: Array<string>,\n  imageTagList?: Array<string>,\n  imageClsList?: Array<string>,\n  // all tools are enabled by default\n  enabledTools?: Array< "select" | "create-point" | "create-box" | "create-polygon">,\n  selectedImage?: string, // initial selected image\n  images: Array<{\n    src: string,\n    thumbnailSrc?: string, // use this if you are using high-res images\n    name: string,\n    regions?: Array<{\n      id: string | number,\n      cls?: string,\n      color?: string,\n      tags?: Array<string>,\n\n      // Point\n      type: "point",\n      x: number, // [0-1] % of image width\n      y: number, // [0-1] % of image height\n\n      // Bounding Box\n      type: "box",\n      x: number, // [0-1] % of image width\n      y: number, // [0-1] % of image height\n      w: number, // [0-1] % of image width\n      h: number, // [0-1] % of image height\n\n      // Polygon\n      type: "polygon",\n      open?: boolean, // should last and first points be connected, default: true\n      points: Array<[number, number]> // [0-1] % of image width/height\n    }>\n  }>,\n}\n')),i.a.createElement(v.a,{fullScreen:!0,open:S},i.a.createElement(y.a,null,"React Image Annotate Output"),i.a.createElement(E.a,{style:{minWidth:400}},i.a.createElement(j.a,{value:JSON.stringify(n,null,"  "),language:"javascript",width:"100%",height:"550px"})),i.a.createElement(O.a,null,i.a.createElement(f.a,{onClick:function(){return N(!1)}},"Close"))))},S=n(12),N=n(19),A=n(940),k=n(233),M=n.n(k),R=n(907),P=n(945),D=n(86),L=n(40),_=n.n(L),B=n(26),G=Object(l.a)({container:{margin:8},header:{display:"flex",flexDirection:"row",alignItems:"center",padding:8,paddingLeft:16,paddingRight:16},title:{fontSize:14,fontWeight:"bold",flexGrow:1,paddingLeft:8,color:D.a[800],"& span":{color:D.a[600],fontSize:12}},expandButton:{padding:0,width:30,height:30,"& .icon":{marginTop:-6,width:20,height:20,transition:"500ms transform","&.expanded":{transform:"rotate(180deg)"}}},expandedContent:{maxHeight:300,overflowY:"auto","&.noScroll":{overflowY:"visible",overflow:"visible"}}}),z=Object(o.memo)(function(e){var t=e.icon,n=e.title,a=e.subTitle,r=e.children,c=e.noScroll,l=void 0!==c&&c,s=e.expandedByDefault,u=void 0!==s&&s,d=G(),g=i.a.createElement("div",{className:_()(d.expandedContent,l&&"noScroll")},r),m=Object(o.useState)(u),f=Object(h.a)(m,2),p=f[0],b=f[1],v=Object(B.a)(function(){return b(!p)});return i.a.createElement(A.a,{className:d.container},i.a.createElement("div",{className:d.header},t,i.a.createElement("div",{className:d.title},n," ",i.a.createElement("span",null,a)),i.a.createElement(R.a,{onClick:v,className:d.expandButton},i.a.createElement(M.a,{className:_()("icon",p&&"expanded")}))),l?p?g:null:i.a.createElement(P.a,{in:p},g))},function(e,t){return e.title===t.title&&e.children===t.children}),W=n(234),V=n.n(W),H=n(960),F=n(130),U=n.n(F),Y=Object(H.a)("div")({paddingLeft:16,paddingRight:16,fontSize:12,"& h1":{fontSize:18},"& h2":{fontSize:14},"& h3":{fontSize:12},"& h4":{fontSize:12},"& h5":{fontSize:12},"& h6":{fontSize:12},"& p":{fontSize:12},"& a":{},"& img":{width:"100%"}}),J=Object(o.memo)(function(e){var t=e.description;return i.a.createElement(z,{title:"Task Description",icon:i.a.createElement(V.a,{style:{color:D.a[700]}}),expandedByDefault:!0},i.a.createElement(Y,null,i.a.createElement(U.a,{source:t})))}),K=n(235),X=n.n(K),Z=n(946),q=n(947),Q=n(204),$=n(62),ee=n.n($),te=Object(l.a)({img:{width:40,height:40,borderRadius:8}}),ne=function(e){return[e.name,(e.regions||[]).length,e.src]},ae=Object(o.memo)(function(e){var t=e.images,n=e.onSelect,a=te();return i.a.createElement(z,{title:"Images",subTitle:"(".concat(t.length,")"),icon:i.a.createElement(X.a,{style:{color:D.a[700]}})},i.a.createElement("div",null,i.a.createElement(Z.a,null,t.map(function(e,t){return i.a.createElement(q.a,{button:!0,onClick:function(){return n(e)},dense:!0,key:t},i.a.createElement("img",{className:a.img,src:e.src}),i.a.createElement(Q.a,{primary:e.name,secondary:"".concat((e.regions||[]).length," Labels")}))}))))},function(e,t){return ee()(e.images.map(ne),t.images.map(ne))}),oe=n(240),ie=n.n(oe),re=n(948),ce=n(236),le=n.n(ce),se=n(237),ue=n.n(se),de=n(68),ge=n.n(de),me=n(95),he=n.n(me),fe=n(238),pe=n.n(fe),be=n(163),ve=n.n(be),ye=n(239),Ee=n.n(ye),Oe=n(205),xe={container:{fontSize:11,fontWeight:"bold",color:D.a[700],"& .icon":{marginTop:4,width:16,height:16},"& .icon2":{opacity:.5,width:16,height:16,transition:"200ms opacity","&:hover":{cursor:"pointer",opacity:1}}},row:{padding:4,cursor:"pointer","&.header:hover":{backgroundColor:"#fff"},"&.highlighted":{backgroundColor:Oe.a[100]},"&:hover":{backgroundColor:Oe.a[50],color:D.a[800]}},chip:{display:"flex",flexDirection:"row",padding:2,borderRadius:2,paddingLeft:4,paddingRight:4,alignItems:"center","& .color":{borderRadius:5,width:10,height:10,marginRight:4},"& .text":{}}},je=Object(l.a)(xe),we=Object(H.a)("div")({borderTop:"1px solid ".concat(D.a[200]),marginTop:2,marginBottom:2}),Ie=function(e){var t=e.color,n=e.text,a=je();return i.a.createElement("span",{className:a.chip},i.a.createElement("div",{className:"color",style:{backgroundColor:t}}),i.a.createElement("div",{className:"text"},n))},Te=function(e){var t=e.header,n=e.highlighted,a=e.order,r=e.classification,c=e.area,l=(e.tags,e.trash),s=e.lock,u=e.visible,d=e.onClick,g=je(),m=Object(o.useState)(!1),f=Object(h.a)(m,2),p=(f[0],f[1]);return i.a.createElement("div",{onClick:d,onMouseEnter:function(){return p(!0)},onMouseLeave:function(){return p(!1)},className:_()(g.row,{header:t,highlighted:n})},i.a.createElement(re.a,{container:!0,alignItems:"center"},i.a.createElement(re.a,{item:!0,xs:2},i.a.createElement("div",{style:{textAlign:"right",paddingRight:10}},a)),i.a.createElement(re.a,{item:!0,xs:5},r),i.a.createElement(re.a,{item:!0,xs:2},i.a.createElement("div",{style:{textAlign:"right",paddingRight:6}},c)),i.a.createElement(re.a,{item:!0,xs:1},l),i.a.createElement(re.a,{item:!0,xs:1},s),i.a.createElement(re.a,{item:!0,xs:1},u)))},Ce=Object(o.memo)(function(){return i.a.createElement(Te,{header:!0,highlighted:!1,order:i.a.createElement(le.a,{className:"icon"}),classification:i.a.createElement("div",{style:{paddingLeft:10}},"Class"),area:i.a.createElement(ue.a,{className:"icon"}),trash:i.a.createElement(ge.a,{className:"icon"}),lock:i.a.createElement(he.a,{className:"icon"}),visible:i.a.createElement(ve.a,{className:"icon"})})}),Se=Object(o.memo)(function(e){var t=e.region,n=e.highlighted,a=e.onSelectRegion,o=e.onDeleteRegion,r=e.onChangeRegion,c=(e.visible,e.locked,e.color),l=e.cls,s=e.index;return i.a.createElement(Te,{header:!1,highlighted:n,onClick:function(){return a(t)},order:"#".concat(s+1),classification:i.a.createElement(Ie,{text:l||"",color:c||"#ddd"}),area:"",trash:i.a.createElement(ge.a,{onClick:function(){return o(t)},className:"icon2"}),lock:t.locked?i.a.createElement(he.a,{onClick:function(){return r(Object(S.a)({},t,{locked:!1}))},className:"icon2"}):i.a.createElement(pe.a,{onClick:function(){return r(Object(S.a)({},t,{locked:!0}))},className:"icon2"}),visible:t.visible||void 0===t.visible?i.a.createElement(ve.a,{onClick:function(){return r(Object(S.a)({},t,{visible:!1}))},className:"icon2"}):i.a.createElement(Ee.a,{onClick:function(){return r(Object(S.a)({},t,{visible:!0}))},className:"icon2"})})},function(e,t){return e.highlighted===t.highlighted&&e.visible===t.visible&&e.locked===t.locked&&e.id===t.id&&e.index===t.index&&e.cls===t.cls&&e.color===t.color}),Ne=function(e){return[e.id,e.color,e.locked,e.visible,e.highlighted]},Ae=Object(o.memo)(function(e){var t=e.regions,n=e.onDeleteRegion,a=e.onChangeRegion,o=e.onSelectRegion,r=je();return i.a.createElement(z,{title:"Regions",subTitle:"",icon:i.a.createElement(ie.a,{style:{color:D.a[700]}}),expandedByDefault:!0},i.a.createElement("div",{className:r.container},i.a.createElement(Ce,null),i.a.createElement(we,null),t.map(function(e,t){return i.a.createElement(Se,Object.assign({key:e.id},e,{region:e,index:t,onSelectRegion:o,onDeleteRegion:n,onChangeRegion:a}))})))},function(e,t){return ee()(e.regions.map(Ne),t.regions.map(Ne))}),ke=n(241),Me=n.n(ke),Re=n(949),Pe=n(158),De=n.n(Pe),Le=n(96),_e=n.n(Le),Be=Object(l.a)({emptyText:{fontSize:14,fontWeight:"bold",color:D.a[500],textAlign:"center",padding:20}}),Ge=Object(o.memo)(function(e){var t=e.history,n=e.onRestoreHistory,a=Be();return i.a.createElement(z,{title:"History",icon:i.a.createElement(Me.a,{style:{color:D.a[700]}}),expandedByDefault:!0},i.a.createElement(Z.a,null,0===t.length&&i.a.createElement("div",{className:a.emptyText},"No History Yet"),t.map(function(e,t){var a=e.name,o=e.time;return i.a.createElement(q.a,{button:!0,dense:!0,key:t},i.a.createElement(Q.a,{primary:a,secondary:_e()(o).format("LT")}),0===t&&i.a.createElement(Re.a,{onClick:function(){return n()}},i.a.createElement(R.a,null,i.a.createElement(De.a,null))))})))},function(e,t){return ee()(e.history.map(function(e){return[e.name,e.time]}),t.history.map(function(e){return[e.name,e.time]}))}),ze=function(e){var t=e.state,n=e.lastAction,a=(t.images||[]).find(function(e){return e.src===t.selectedImage}),o=a?(a.regions||[]).find(function(e){return e.highlighted}):null;return i.a.createElement(z,{title:"Debug",icon:i.a.createElement("span",null),expandedByDefault:!0},i.a.createElement("div",{style:{padding:4}},i.a.createElement("div",null,i.a.createElement("b",null,"region"),":"),i.a.createElement("pre",null,JSON.stringify(o,null,"  ")),i.a.createElement("div",null,i.a.createElement("b",null,"lastAction"),":"),i.a.createElement("pre",null,JSON.stringify(n,null,"  ")),i.a.createElement("div",null,i.a.createElement("b",null,"mode"),":"),i.a.createElement("pre",null,JSON.stringify(t.mode,null,"  ")),i.a.createElement("div",null,i.a.createElement("b",null,"frame:")),i.a.createElement("pre",null,JSON.stringify(t.selectedImageFrameTime,null,"  "))))},We=n(242),Ve=n.n(We),He=n(9),Fe=n.n(He),Ue=(Object(l.a)({}),[]),Ye=Object(o.memo)(function(e){var t=e.currentImage,n=e.imageClsList,a=void 0===n?Ue:n,r=e.imageTagList,c=void 0===r?Ue:r,l=e.onChangeImage;if(!t)return null;var s=t.tags,u=void 0===s?[]:s,d=t.cls,g=void 0===d?null:d,m=Object(B.a)(function(e){return l({cls:e.value})}),h=Object(B.a)(function(e){return l({tags:e.map(function(e){return e.value})})}),f=Object(o.useMemo)(function(){return g?{value:g,label:g}:null},[g]),b=Object(o.useMemo)(function(){return Object(He.asMutable)(a.map(function(e){return{value:e,label:e}}))},[a]),v=Object(o.useMemo)(function(){return Object(He.asMutable)(c.map(function(e){return{value:e,label:e}}))},[c]),y=Object(o.useMemo)(function(){return u.map(function(e){return{value:e,label:e}})},[u]);return i.a.createElement(z,{title:"Image Tags",expandedByDefault:!0,noScroll:!0,icon:i.a.createElement(Ve.a,{style:{color:D.a[700]}})},a.length>0&&i.a.createElement("div",{style:{padding:8}},i.a.createElement(p.default,{placeholder:"Image Classification",onChange:m,value:f,options:b})),c.length>0&&i.a.createElement("div",{style:{padding:8,paddingTop:0}},i.a.createElement(p.default,{isMulti:!0,placeholder:"Image Tags",onChange:h,value:y,options:v})))},function(e,t){return e.currentImage.cls===t.currentImage.cls&&e.currentImage.tags===t.currentImage.tags&&e.imageClsList===t.imageClsList&&e.imageTagList===t.imageTagList}),Je=n(243),Ke=n.n(Je),Xe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(e<1e3)return e+"ms";var n=e/1e3;if(n<60)return Number.isInteger(n)?n+"s":n.toFixed(t)+"s";var a=n/60;return Number.isInteger(a)?a+"m":a.toFixed(t)+"m"},Ze=Object(H.a)("div")({cursor:"pointer",display:"flex",alignItems:"center",padding:8,fontSize:14,color:D.a[700],"&.current":{backgroundColor:Oe.a[100]},"&:hover":{backgroundColor:D.a[100]},"& .time":{flexGrow:1,fontWeight:"bold","& .regionCount":{marginLeft:8,fontWeight:"normal",color:D.a[500]}},"& .trash":{"& .icon":{fontSize:18,color:D.a[600],transition:"transform 80ms","&:hover":{color:D.a[800],transform:"scale(1.25,1.25)"}}}}),qe=function(e){var t=e.currentVideoTime,n=e.keyframes,a=e.onChangeVideoTime,o=e.onDeleteKeyframe,r=Object.keys(n).map(function(e){return parseInt(e)});return i.a.createElement(z,{title:"Keyframes",subTitle:"",icon:i.a.createElement(Ke.a,{style:{color:D.a[700]}}),expandedByDefault:!0},r.map(function(e){return i.a.createElement(Ze,{fullWidth:!0,key:e,className:t===e?"current":"",onClick:function(){return a(e)}},i.a.createElement("div",{className:"time"},Xe(e,2),i.a.createElement("span",{className:"regionCount"},"(",(n[e].regions||[]).length,")")),i.a.createElement("div",{className:"trash"},i.a.createElement(ge.a,{onClick:function(t){o(e),t.stopPropagation()},className:"icon"})))}))},Qe=Object(l.a)({}),$e=[],et=function(e){var t=e.debug,n=e.taskDescription,a=e.keyframes,o=e.images,r=e.regions,c=e.history,l=e.labelImages,s=e.currentImage,u=e.currentVideoTime,d=e.imageClsList,g=e.imageTagList,m=e.onChangeImage,h=e.onSelectRegion,f=e.onSelectImage,p=e.onChangeRegion,b=e.onDeleteRegion,v=e.onRestoreHistory,y=e.onChangeVideoTime,E=e.onDeleteKeyframe;Qe();return r||(r=$e),i.a.createElement("div",null,t&&i.a.createElement(ze,{state:t,lastAction:t.lastAction}),(n||"").length>1&&i.a.createElement(J,{description:n}),l&&i.a.createElement(Ye,{currentImage:s,imageClsList:d,imageTagList:g,onChangeImage:m,expandedByDefault:!0}),o&&o.length>1&&i.a.createElement(ae,{onSelect:f,images:o}),i.a.createElement(Ae,{regions:r,onSelectRegion:h,onChangeRegion:p,onDeleteRegion:b}),a&&i.a.createElement(qe,{currentVideoTime:u,keyframes:a,onChangeVideoTime:y,onDeleteKeyframe:E}),i.a.createElement(Ge,{history:c,onRestoreHistory:v}))},tt=n(16),nt=n(131),at=(n(655),function(e){var t=e.mousePosition,n=e.x,a=e.y,r=Object(o.useState)(),c=Object(h.a)(r,2),l=(c[0],c[1]);return t&&(n=t.current.x,a=t.current.y),Object(o.useEffect)(function(){if(t){var e=setInterval(function(){n===t.current.x&&a===t.current.y||l([t.current.x,t.current.y])},10);return function(){return clearInterval(e)}}}),i.a.createElement(o.Fragment,null,i.a.createElement("div",{style:{position:"absolute",height:"100%",width:1,zIndex:10,backgroundColor:"#f00",left:n,pointerEvents:"none",top:0}}),i.a.createElement("div",{style:{position:"absolute",width:"100%",zIndex:10,height:1,backgroundColor:"#f00",top:a,pointerEvents:"none",left:0}}))}),ot={regionInfo:{fontSize:12,cursor:"default",transition:"opacity 200ms",opacity:.7,"&:hover":{opacity:.9,cursor:"pointer"},"&.highlighted":{opacity:.9,"&:hover":{opacity:1}},fontWeight:600,color:D.a[900],padding:8,"& .name":{display:"flex",flexDirection:"row",alignItems:"center","& .circle":{marginRight:4,boxShadow:"0px 0px 2px rgba(0,0,0,0.4)",width:10,height:10,borderRadius:5}},"& .tags":{"& .tag":{color:D.a[700],display:"inline-block",margin:1,fontSize:10,textDecoration:"underline"}}}},it=n(159),rt=n.n(it),ct=Object(l.a)(ot),lt=Object(o.memo)(function(e){var t=e.region,n=e.editing,a=e.allowedClasses,o=e.allowedTags,r=e.onDelete,c=e.onChange,l=e.onClose,s=e.onOpen,u=ct();return i.a.createElement(A.a,{onClick:function(){return n?null:s(t)},className:_()(u.regionInfo,{highlighted:t.highlighted})},n?i.a.createElement("div",{style:{width:200}},i.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.a.createElement("div",{style:{display:"flex",backgroundColor:t.color,color:"#fff",padding:4,paddingLeft:8,paddingRight:8,borderRadius:4,fontWeight:"bold",textShadow:"0px 0px 5px rgba(0,0,0,0.4)"}},t.type),i.a.createElement("div",{style:{flexGrow:1}}),i.a.createElement(R.a,{onClick:function(){return r(t)},tabIndex:-1,style:{width:22,height:22},size:"small",variant:"outlined"},i.a.createElement(ge.a,{style:{marginTop:-8,width:16,height:16}}))),(a||[]).length>0&&i.a.createElement("div",{style:{marginTop:6}},i.a.createElement(p.default,{placeholder:"Classification",onChange:function(e){return c(Object(S.a)({},t,{cls:e.value}))},value:t.cls?{label:t.cls,value:t.cls}:null,options:Object(He.asMutable)(a.map(function(e){return{value:e,label:e}}))})),(o||[]).length>0&&i.a.createElement("div",{style:{marginTop:4}},i.a.createElement(p.default,{onChange:function(e){return c(Object(S.a)({},t,{tags:e.map(function(e){return e.value})}))},placeholder:"Tags",value:(t.tags||[]).map(function(e){return{label:e,value:e}}),isMulti:!0,options:Object(He.asMutable)(o.map(function(e){return{value:e,label:e}}))})),i.a.createElement("div",{style:{marginTop:4,display:"flex"}},i.a.createElement("div",{style:{flexGrow:1}}),i.a.createElement(f.a,{onClick:function(){return l(t)},size:"small",variant:"contained",color:"primary"},i.a.createElement(rt.a,null)))):i.a.createElement("div",null,t.cls&&i.a.createElement("div",{className:"name"},i.a.createElement("div",{className:"circle",style:{backgroundColor:t.color}}),t.cls),t.tags&&i.a.createElement("div",{className:"tags"},t.tags.map(function(e){return i.a.createElement("div",{key:e,className:"tag"},e)}))))},function(e,t){return e.editing===t.editing&&e.region.x===t.region.x&&e.region.y===t.region.y&&e.region.tags===t.region.tags&&e.region.cls===t.region.cls&&e.region.color===t.region.color&&e.region.highlighted===t.region.highlighted}),st=Object(l.a)({"@keyframes borderDance":{from:{strokeDashoffset:0},to:{strokeDashoffset:100}},highlightBox:{zIndex:2,transition:"opacity 500ms","&.highlighted":{zIndex:3},"&:not(.highlighted)":{opacity:0},"&:not(.highlighted):hover":{opacity:.6},"& path":{vectorEffect:"non-scaling-stroke",strokeWidth:2,stroke:"#FFF",fill:"none",strokeDasharray:5,animationName:"$borderDance",animationDuration:"4s",animationTimingFunction:"linear",animationIterationCount:"infinite",animationPlayState:"running"}}}),ut=function(e){var t=e.mouseEvents,n=e.dragWithPrimary,a=e.zoomWithPrimary,o=e.createWithPrimary,r=e.onBeginMovePoint,c=e.onSelectRegion,l=e.region,s=e.pbox,u=st();return i.a.createElement("svg",Object.assign({key:l.id,className:_()(u.highlightBox,{highlighted:l.highlighted})},t,a||n?{}:{onMouseDown:function(e){return!l.locked&&"point"===l.type&&l.highlighted&&0===e.button?r(l):0!==e.button||o?void t.onMouseDown(e):c(l)}},{style:Object(S.a)({},l.highlighted?{pointerEvents:"point"!==l.type?"none":void 0,cursor:"grab"}:{cursor:a||n||o?void 0:"pointer",pointerEvents:a||n||o&&!l.highlighted?"none":void 0},{position:"absolute",left:s.x-5,top:s.y-5,width:s.w+10,height:s.h+10})}),i.a.createElement("path",{d:"M5,5 L".concat(s.w+5,",5 L").concat(s.w+5,",").concat(s.h+5," L5,").concat(s.h+5," Z")}))},dt=n(262),gt=n(954),mt=Object(H.a)("div")({"& > div":{width:"100%",height:"100%"}}),ht=function(e){var t=e.children,n=Object(dt.a)(e,["children"]),a=Object(o.useState)(!1),r=Object(h.a)(a,2),c=r[0],l=r[1],s=Object(B.a)(function(e){c||l(!0),n.onMouseMove&&n.onMouseMove(e)}),u=Object(B.a)(function(e){setTimeout(function(){c&&l(!1)},100)});return i.a.createElement(mt,Object.assign({},n,{onMouseMove:s,onMouseLeave:u}),i.a.createElement(gt.a,{enabled:c,removeScrollBar:!1},t))},ft=n(959),pt=n(950),bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n="undefined"!==typeof window,a=Object(ft.a)({width:n?window.innerWidth:e,height:n?window.innerHeight:t}),i=Object(h.a)(a,2),r=i[0],c=i[1];return Object(o.useEffect)(function(){if(n){var e=function(){c({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}},[]),Object(pt.a)(function(){n&&(window.innerWidth===r.width&&window.innerHeight===r.height||c({width:window.innerWidth,height:window.innerHeight}))},100),r},vt=function(e){var t=e.canvasEl,n=e.changeMat,a=e.changeDragging,i=e.zoomStart,r=(e.zoomEnd,e.changeZoomStart),c=e.changeZoomEnd,l=e.layoutParams,s=e.zoomWithPrimary,u=e.dragWithPrimary,d=e.mat,g=e.onMouseMove,m=e.onMouseUp,h=e.onMouseDown,f=e.dragging,p=Object(o.useRef)({x:0,y:0}),b=Object(o.useRef)({x:0,y:0}),v=function(e,t){var a=[t.x,t.y],o=a[0],i=a[1],r="object"===typeof e?e.to/d.a:1+.2*e;d.translate(o,i).scaleU(r),d.a>2&&d.scaleU(2/d.a),d.a<.1&&d.scaleU(.1/d.a),d.translate(-o,-i),n(d.clone())};return{mouseEvents:{onMouseMove:function(e){var a=t.current.getBoundingClientRect(),o=a.left,r=a.top;b.current.x=p.current.x,b.current.y=p.current.y,p.current.x=e.clientX-o,p.current.y=e.clientY-r;var u=d.applyToPoint(p.current.x,p.current.y);s&&i&&c(u);var m=l.current,h=m.iw,v=m.ih;g({x:u.x/h,y:u.y/v}),f&&(d.translate(b.current.x-p.current.x,b.current.y-p.current.y),n(d.clone())),e.preventDefault()},onMouseDown:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.preventDefault(),1===e.button||0===e.button&&u)return a(!0);var n=d.applyToPoint(p.current.x,p.current.y);if(s&&0===e.button)return r(n),void c(n);if(0===e.button){t.type,t.type;var o=l.current,i=o.iw,g=o.ih;h({x:n.x/i,y:n.y/g})}},onMouseUp:function(e){e.preventDefault();var t=d.applyToPoint(p.current.x,p.current.y);if(i){var o=t;if(Math.abs(i.x-o.x)<10&&Math.abs(i.y-o.y)<10)d.a<1?v({to:1},p.current):v({to:.25},p.current);else{var s=l.current,g=s.iw,h=s.ih;if(i.x>o.x){var f=[o.x,i.x];i.x=f[0],o.x=f[1]}if(i.y>o.y){var b=[o.y,i.y];i.y=b[0],o.y=b[1]}var y=Math.min((o.x-i.x)/g,(o.y-i.y)/h);y<.1&&(y=.1),y>10&&(y=10);var E=nt.Matrix.from(1,0,0,1,-10,-10).translate(i.x,i.y).scaleU(y);n(E.clone())}r(null),c(null)}if(1===e.button||0===e.button&&u)return a(!1);if(0===e.button){var O=l.current,x=O.iw,j=O.ih;m({x:t.x/x,y:t.y/j})}},onWheel:function(e){var t=e.deltaY>0?1:e.deltaY<0?-1:0;v(t,p.current)}},mousePosition:p}},yt=function(e){var t=e.layoutParams,n=e.mat;return Object(B.a)(function(e){var a=t.current,o=a.iw,i=a.ih,r=function(e){switch(e.type){case"polygon":var t={x:Math.min.apply(Math,Object(tt.a)(e.points.map(function(e){var t=Object(h.a)(e,2),n=t[0];return t[1],n}))),y:Math.min.apply(Math,Object(tt.a)(e.points.map(function(e){var t=Object(h.a)(e,2);return t[0],t[1]}))),w:0,h:0};return t.w=Math.max.apply(Math,Object(tt.a)(e.points.map(function(e){var t=Object(h.a)(e,2),n=t[0];return t[1],n})))-t.x,t.h=Math.max.apply(Math,Object(tt.a)(e.points.map(function(e){var t=Object(h.a)(e,2);return t[0],t[1]})))-t.y,t;case"box":return{x:e.x,y:e.y,w:e.w,h:e.h};case"point":return{x:e.x,y:e.y,w:0,h:0};case"pixel":if(void 0!==e.sx&&void 0!==e.sy&&e.w&&e.h)return{x:e.sx,y:e.sy,w:e.w,h:e.h};if(e.points){var n={x:Math.min.apply(Math,Object(tt.a)(e.points.map(function(e){var t=Object(h.a)(e,2),n=t[0];return t[1],n}))),y:Math.min.apply(Math,Object(tt.a)(e.points.map(function(e){var t=Object(h.a)(e,2);return t[0],t[1]}))),w:0,h:0};return n.w=Math.max.apply(Math,Object(tt.a)(e.points.map(function(e){var t=Object(h.a)(e,2),n=t[0];return t[1],n})))-n.x,n.h=Math.max.apply(Math,Object(tt.a)(e.points.map(function(e){var t=Object(h.a)(e,2);return t[0],t[1]})))-n.y,n}}throw new Error("unknown region")}(e),c="point"===e.type?15:2,l={x:r.x*o-c,y:r.y*i-c,w:r.w*o+2*c,h:r.h*i+2*c};return Object(S.a)({},n.clone().inverse().applyToPoint(l.x,l.y),{w:l.w/n.a,h:l.h/n.d})})},Et=Object(H.a)("svg")({pointerEvents:"none",position:"absolute",zIndex:1,left:0,top:0,width:"100%",height:"100%","& text":{fill:"#fff"},"& path":{vectorEffect:"non-scaling-stroke",strokeWidth:2,opacity:.5,stroke:"#FFF",fill:"none",strokeDasharray:5,animationDuration:"4s",animationTimingFunction:"linear",animationIterationCount:"infinite",animationPlayState:"running"}}),Ot=function(e){var t=e.projectRegionBox,n=e.regions,a=e.pointDistancePrecision,r=e.realSize;return i.a.createElement(Et,null,n.filter(function(e){return"point"===e.type}).flatMap(function(e,c){return n.filter(function(e,t){return t>c}).filter(function(e){return"point"===e.type}).map(function(n){var c,l=t(e),s=t(n),u={x:(l.x+l.w/2+s.x+s.w/2)/2,y:(l.y+l.h/2+s.y+s.h/2)/2};if(r){var d=r.w,g=r.h,m=r.unitName;c=Math.sqrt(Math.pow(e.x*d-n.x*d,2)+Math.pow(e.y*g-n.y*g,2)).toFixed(a)+m}else c=(100*Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))).toFixed(a)+"%";return i.a.createElement(o.Fragment,null,i.a.createElement("path",{d:"M".concat(l.x+l.w/2,",").concat(l.y+l.h/2," L").concat(s.x+s.w/2,",").concat(s.y+s.h/2)}),i.a.createElement("text",{x:u.x,y:u.y},c))})}))},xt=function(e){var t=e.regions,n=e.projectRegionBox,a=e.mouseEvents,o=e.regionClsList,r=e.regionTagList,c=e.onBeginRegionEdit,l=e.onChangeRegion,s=e.onCloseRegionEdit,u=e.onDeleteRegion,d=e.layoutParams;return t.filter(function(e){return e.visible||void 0===e.visible}).map(function(e){var t=n(e),g=d.current,m=(g.iw,g.ih,8);e.highlighted&&"box"===e.type&&(m+=6);var h=e.editingLabels&&!e.locked?170:e.tags?60:50,f=t.y>h,p=f?{left:t.x,top:t.y-m/2}:{left:t.x,top:t.y+t.h+m/2};return e.locked?i.a.createElement("div",{key:e.id,style:Object(S.a)({position:"absolute"},p,{zIndex:10+(e.editingLabels?5:0)})},i.a.createElement(A.a,{style:Object(S.a)({position:"absolute",left:0},f?{bottom:0}:{top:0},{zIndex:10,backgroundColor:"#fff",borderRadius:4,padding:2,paddingBottom:0,opacity:.5,pointerEvents:"none"})},i.a.createElement(he.a,{style:{width:16,height:16,color:"#333"}}))):i.a.createElement("div",{key:e.id,style:Object(S.a)({position:"absolute"},p,{zIndex:10+(e.editingLabels?5:0),width:200}),onMouseDown:function(e){return e.preventDefault()},onMouseUp:function(e){return e.preventDefault()},onMouseEnter:function(t){e.editingLabels&&(a.onMouseUp(t),t.button=1,a.onMouseUp(t))}},i.a.createElement("div",Object.assign({style:Object(S.a)({position:"absolute",left:0},f?{bottom:0}:{top:0})},e.editingLabels?{}:function(e){for(var t=Object(S.a)({},e),n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];for(var i=0,r=a;i<r.length;i++)delete t[r[i]];return t}(a,"onMouseDown","onMouseUp")),i.a.createElement(lt,{allowedClasses:o,allowedTags:r,onOpen:c,onChange:l,onClose:s,onDelete:u,editing:e.editingLabels,region:e})))})},jt=Object(H.a)("div")({width:8,height:8,zIndex:2,border:"2px solid #FFF",position:"absolute"}),wt=[["nw-resize","n-resize","ne-resize"],["w-resize","grab","e-resize"],["sw-resize","s-resize","se-resize"]],It=function(e){var t=e.regions,n=e.mouseEvents,a=e.projectRegionBox,r=e.dragWithPrimary,c=e.createWithPrimary,l=e.zoomWithPrimary,s=e.onBeginMovePoint,u=e.onSelectRegion,d=e.layoutParams,g=e.mat,m=e.onBeginBoxTransform,f=e.onBeginMovePolygonPoint,p=e.onAddPolygonPoint;return t.filter(function(e){return e.visible||void 0===e.visible}).filter(function(e){return!e.locked}).map(function(e,t){var b=a(e),v=d.current,y=v.iw,E=v.ih;return i.a.createElement(o.Fragment,{key:e.id},i.a.createElement(ht,null,i.a.createElement(ut,{region:e,mouseEvents:n,dragWithPrimary:r,createWithPrimary:c,zoomWithPrimary:l,onBeginMovePoint:s,onSelectRegion:u,pbox:b}),"box"===e.type&&!r&&!l&&!e.locked&&e.highlighted&&g.a<1.2&&[[0,0],[.5,0],[1,0],[1,.5],[1,1],[.5,1],[0,1],[0,.5],[.5,.5]].map(function(t,a){var o=Object(h.a)(t,2),r=o[0],c=o[1];return i.a.createElement(jt,Object.assign({key:a},n,{onMouseDown:function(t){if(0===t.button)return m(e,[2*r-1,2*c-1]);n.onMouseDown(t)},style:{left:b.x-4-2+b.w*r,top:b.y-4-2+b.h*c,cursor:wt[2*c][2*r],borderRadius:.5===r&&.5===c?4:void 0}}))}),"polygon"===e.type&&!r&&!l&&!e.locked&&e.highlighted&&e.points.map(function(t,a){var o=Object(h.a)(t,2),r=o[0],c=o[1],l=g.clone().inverse().applyToPoint(r*y,c*E);return i.a.createElement(jt,Object.assign({key:a},n,{onMouseDown:function(t){if(0===t.button&&(!e.open||0===a))return f(e,a);n.onMouseDown(t)},style:{cursor:e.open?0===a?"pointer":void 0:"move",pointerEvents:e.open&&a===e.points.length-1?"none":void 0,left:l.x-4,top:l.y-4}}))}),"polygon"===e.type&&e.highlighted&&!r&&!l&&!e.locked&&!e.open&&e.points.length>1&&e.points.map(function(t,n){return[t,e.points[(n+1)%e.points.length]]}).map(function(e){var t=Object(h.a)(e,2),n=t[0],a=t[1];return[(n[0]+a[0])/2,(n[1]+a[1])/2]}).map(function(t,a){var o=g.clone().inverse().applyToPoint(t[0]*y,t[1]*E);return i.a.createElement(jt,Object.assign({key:a},n,{onMouseDown:function(o){if(0===o.button)return p(e,t,a+1);n.onMouseDown(o)},style:{cursor:"copy",left:o.x-4,top:o.y-4,border:"2px dotted #fff",opacity:.5}}))})))})},Tt=Object(o.createContext)({showCrosshairs:!1}),Ct=function(){return Object(o.useContext)(Tt)},St=function(e){var t=e.children,n=Object(o.useState)(function(){return function(){if(!window||!window.localStorage)return{};for(var e={},t=0;t<window.localStorage.length;t++){var n=window.localStorage.key(t);if(n.startsWith("settings_"))try{e[n.replace("settings_","")]=JSON.parse(window.localStorage.getItem(n))}catch(a){}}return e}()}),a=Object(h.a)(n,2),r=a[0],c=a[1];return i.a.createElement(Tt.Provider,{value:Object(S.a)({},r,{changeSetting:function(e,t){c(Object(S.a)({},r,Object(N.a)({},e,t))),window.localStorage.setItem("settings_".concat(e),JSON.stringify(t))}})},t)},Nt=Object(H.a)("video")({zIndex:0,position:"absolute"}),At=Object(H.a)("img")({zIndex:0,position:"absolute"}),kt=function(e){var t=e.imagePosition,n=e.mouseEvents,a=e.videoTime,r=void 0===a?0:a,c=e.videoSrc,l=e.imageSrc,s=e.onLoad,u=e.videoPlaying,d=e.onChangeVideoTime,g=e.onChangeVideoPlaying,m=Ct(),h=Object(o.useRef)(),f=Object(o.useRef)();Object(o.useEffect)(function(){!u&&h.current&&(h.current.currentTime=r/1e3)},[r]),Object(o.useEffect)(function(){var e=!1;return h.current&&(u?(h.current.play(),e=!0,m.videoPlaybackSpeed&&(h.current.playbackRate=parseFloat(m.videoPlaybackSpeed))):h.current.pause()),function t(){if(e&&h.current){var n=Math.floor(1e3*h.current.currentTime);r!==n&&d(n),h.current.paused&&(e=!1,g(!1)),requestAnimationFrame(t)}}(),function(){e=!1}},[u]);var p=Object(B.a)(function(e){var t=e.currentTarget;t.currentTime=r/1e3,s&&s({naturalWidth:t.videoWidth,naturalHeight:t.videoHeight,videoElm:t,duration:t.duration})}),b=Object(B.a)(function(e){var t=e.currentTarget;s&&s({naturalWidth:t.naturalWidth,naturalHeight:t.naturalHeight,imageElm:t})}),v=Object(o.useMemo)(function(){var e=t.bottomRight.x-t.topLeft.x,n=t.bottomRight.y-t.topLeft.y;return{left:t.topLeft.x,top:t.topLeft.y,width:isNaN(e)?0:e,height:isNaN(n)?0:n}},[t.topLeft.x,t.topLeft.y,t.bottomRight.x,t.bottomRight.y]);return c||l?l&&void 0===r?i.a.createElement(At,Object.assign({},n,{src:l,ref:f,style:v,onLoad:b})):i.a.createElement(Nt,Object.assign({},n,{ref:h,style:v,onLoadedMetadata:p,src:c||l})):"No imageSrc or videoSrc provided"},Mt=Object(l.a)({canvas:{width:"100%",height:"100%",position:"relative",zIndex:1},zoomIndicator:{position:"absolute",bottom:16,right:0,backgroundColor:"rgba(0,0,0,0.4)",color:"#fff",opacity:.5,fontWeight:"bolder",fontSize:14,padding:4}}),Rt=function(e){var t=e.regions,n=e.imageSrc,a=e.videoSrc,r=e.videoTime,c=e.realSize,l=e.showTags,s=e.onMouseMove,u=void 0===s?function(e){return null}:s,d=e.onMouseDown,g=void 0===d?function(e){return null}:d,m=e.onMouseUp,f=void 0===m?function(e){return null}:m,p=e.dragWithPrimary,b=void 0!==p&&p,v=e.zoomWithPrimary,y=void 0!==v&&v,E=e.createWithPrimary,O=void 0!==E&&E,x=e.pointDistancePrecision,j=void 0===x?0:x,w=e.regionClsList,I=e.regionTagList,T=e.showCrosshairs,C=e.showPointDistances,N=e.allowedArea,A=e.videoPlaying,k=void 0!==A&&A,M=e.onImageOrVideoLoaded,R=e.onChangeRegion,P=e.onBeginRegionEdit,D=e.onCloseRegionEdit,L=e.onBeginBoxTransform,_=e.onBeginMovePolygonPoint,G=e.onAddPolygonPoint,z=e.onSelectRegion,W=e.onBeginMovePoint,V=e.onDeleteRegion,H=e.onChangeVideoTime,F=e.onChangeVideoPlaying,U=Mt(),Y=Object(o.useRef)(null),J=Object(o.useRef)({}),K=Object(ft.a)(!1),X=Object(h.a)(K,2),Z=X[0],q=X[1],Q=Object(ft.a)(0),$=Object(h.a)(Q,2),ee=$[0],te=$[1],ne=Object(ft.a)(null),ae=Object(h.a)(ne,2),oe=ae[0],ie=ae[1],re=Object(ft.a)(null),ce=Object(h.a)(re,2),le=ce[0],se=ce[1],ue=Object(ft.a)(nt.Matrix.from(1,0,0,1,-10,-10)),de=Object(h.a)(ue,2),ge=de[0],me=de[1],he=Object(o.useRef)({}),fe=bt(),pe=vt({canvasEl:Y,dragging:Z,mat:ge,layoutParams:J,changeMat:me,zoomStart:oe,zoomEnd:le,changeZoomStart:ie,changeZoomEnd:se,changeDragging:q,zoomWithPrimary:y,dragWithPrimary:b,onMouseMove:u,onMouseDown:g,onMouseUp:f}),be=pe.mouseEvents,ve=pe.mousePosition;Object(o.useLayoutEffect)(function(){return me(ge.clone())},[fe]);ge.applyToPoint(ve.current.x,ve.current.y);var ye=yt({layoutParams:J,mat:ge}),Ee=Object(o.useState)(),Oe=Object(h.a)(Ee,2),xe=Oe[0],je=Oe[1],we=Boolean(xe&&xe.naturalWidth),Ie=Object(B.a)(function(e){var t={naturalWidth:e.naturalWidth,naturalHeight:e.naturalHeight,duration:e.duration};M&&M(t),je(t),setTimeout(function(){return je(t)},10)}),Te=function(){var e=Object(o.useRef)(null);if(null===e.current){e.current={image:new Image,pattern:null};var t=document.createElement("canvas");t.width=100,t.height=100;var n=t.getContext("2d");e.current.image.onload=function(){e.current.pattern=n.createPattern(e.current.image,"repeat")},e.current.image.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH4wMSAxY5oG+lzgAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAAcSURBVAjXY/jPwPCfAQnA+TAGugLcAhhakRUAAK3lEe8m9qZhAAAAAElFTkSuQmCC"}return e.current.pattern}(),Ce=Y.current;if(Ce&&we){var Se=Ce.clientWidth,Ne=Ce.clientHeight,Ae=Math.max(xe.naturalWidth/(Se-20),xe.naturalHeight/(Ne-20)),ke=xe.naturalWidth/Ae,Me=xe.naturalHeight/Ae;J.current={iw:ke,ih:Me,fitScale:Ae,canvasWidth:Se,canvasHeight:Ne}}Object(o.useLayoutEffect)(function(){if(xe){var e=Ce.clientWidth,n=Ce.clientHeight;Ce.width=e,Ce.height=n;var a=Ce.getContext("2d");a.save(),a.transform.apply(a,Object(tt.a)(ge.clone().inverse().toArray()));var o=J.current,i=o.iw,r=o.ih;if(N){var c=N.x,l=N.y,s=N.w,u=N.h;a.save(),a.globalAlpha=.25;var d=[[0,0],[i,0],[i,r],[0,r]],g=[[c*i,l*r],[c*i+s*i,l*r],[c*i+s*i,l*r+u*r],[c*i,l*r+u*r]];a.moveTo.apply(a,Object(tt.a)(d[0])),d.forEach(function(e){return a.lineTo.apply(a,Object(tt.a)(e))}),a.lineTo.apply(a,Object(tt.a)(d[0])),a.closePath(),g.reverse(),a.moveTo.apply(a,Object(tt.a)(g[0])),g.forEach(function(e){return a.lineTo.apply(a,Object(tt.a)(e))}),a.lineTo.apply(a,Object(tt.a)(g[0])),a.fillStyle=Te||"#f00",a.fill(),a.restore()}a.save(),a.globalAlpha=.5*ge.a+.5,a.lineWidth=1*ge.a+1,a.globalAlpha>.6&&(a.shadowColor="black",a.shadowBlur=4);var m=!0,f=!1,p=void 0;try{for(var b,v=function(){var e=b.value;switch(e.type){case"point":a.save(),a.beginPath(),a.strokeStyle=e.color,a.moveTo(e.x*i-10,e.y*r),a.lineTo(e.x*i-2,e.y*r),a.moveTo(e.x*i+10,e.y*r),a.lineTo(e.x*i+2,e.y*r),a.moveTo(e.x*i,e.y*r-10),a.lineTo(e.x*i,e.y*r-2),a.moveTo(e.x*i,e.y*r+10),a.lineTo(e.x*i,e.y*r+2),a.moveTo(e.x*i+5,e.y*r),a.arc(e.x*i,e.y*r,5,0,2*Math.PI),a.stroke(),a.restore();break;case"box":a.save(),a.shadowColor="black",a.shadowBlur=4,a.strokeStyle=e.color,a.strokeRect(e.x*i,e.y*r,e.w*i,e.h*r),a.restore();break;case"polygon":a.save(),a.shadowColor="black",a.shadowBlur=4,a.strokeStyle=e.color,a.beginPath(),a.moveTo(e.points[0][0]*i,e.points[0][1]*r);var t=!0,n=!1,o=void 0;try{for(var c,l=e.points[Symbol.iterator]();!(t=(c=l.next()).done);t=!0){var s=c.value;a.lineTo(s[0]*i,s[1]*r)}}catch(u){n=!0,o=u}finally{try{t||null==l.return||l.return()}finally{if(n)throw o}}e.open||a.closePath(),a.stroke(),a.restore();break;case"pixel":a.save(),he.current[e.src]?"CANVAS"===he.current[e.src].nodeName&&(a.globalAlpha=.6,a.drawImage(he.current[e.src],e.sx*i,e.sy*r,e.w*i,e.h*r)):(he.current[e.src]=new Image,he.current[e.src].onload=function(){var t=he.current[e.src],n=document.createElement("canvas");n.width=t.naturalWidth,n.height=t.naturalHeight;var a=n.getContext("2d");a.drawImage(t,0,0);for(var o=a.getImageData(0,0,t.naturalWidth,t.naturalHeight),i=0;i<o.data.length;i+=4){var r=o.data.slice(i,i+4),c=Object(h.a)(r,4),l=c[0],s=c[1],u=c[2],d=(c[3],l<10&&s<10&&u<10);o.data[i]=0,o.data[i+1]=0,o.data[i+2]=d?255:0,o.data[i+3]=d?255:0}a.clearRect(0,0,t.naturalWidth,t.naturalHeight),a.putImageData(o,0,0),he.current[e.src]=n,te(ee+1)},he.current[e.src].src=e.src),a.restore()}},y=t.filter(function(e){return e.visible||void 0===e.visible})[Symbol.iterator]();!(m=(b=y.next()).done);m=!0)v()}catch(E){f=!0,p=E}finally{try{m||null==y.return||y.return()}finally{if(f)throw p}}a.restore(),a.restore()}});var Re=J.current,Pe=Re.iw,De=Re.ih,Le=oe&&le?Object(S.a)({},ge.clone().inverse().applyToPoint(oe.x,oe.y),{w:(le.x-oe.x)/ge.a,h:(le.y-oe.y)/ge.d}):null;Le&&(Le.w<0&&(Le.x+=Le.w,Le.w*=-1),Le.h<0&&(Le.y+=Le.h,Le.h*=-1));var _e={topLeft:ge.clone().inverse().applyToPoint(0,0),bottomRight:ge.clone().inverse().applyToPoint(Pe,De)};return i.a.createElement("div",{style:{width:"100%",height:"100%",maxHeight:"calc(100vh - 68px)",position:"relative",overflow:"hidden",cursor:O?"crosshair":Z?"grabbing":b?"grab":y?ge.a<1?"zoom-out":"zoom-in":void 0}},T&&i.a.createElement(at,{key:"crossHairs",mousePosition:ve}),we&&i.a.createElement(It,{key:"regionSelectAndTransformBoxes",regions:t,mouseEvents:be,projectRegionBox:ye,dragWithPrimary:b,createWithPrimary:O,zoomWithPrimary:y,onBeginMovePoint:W,onSelectRegion:z,layoutParams:J,mat:ge,onBeginBoxTransform:L,onBeginMovePolygonPoint:_,onAddPolygonPoint:G}),we&&l&&i.a.createElement(ht,{key:"regionTags"},i.a.createElement(xt,{regions:t,projectRegionBox:ye,mouseEvents:be,regionClsList:w,regionTagList:I,onBeginRegionEdit:P,onChangeRegion:R,onCloseRegionEdit:D,onDeleteRegion:V,layoutParams:J})),y&&null!==Le&&i.a.createElement("div",{key:"zoomBox",style:{position:"absolute",zIndex:1,border:"1px solid #fff",pointerEvents:"none",left:Le.x,top:Le.y,width:Le.w,height:Le.h}}),C&&i.a.createElement(Ot,{key:"pointDistances",regions:t,realSize:c,projectRegionBox:ye,pointDistancePrecision:j}),i.a.createElement(ht,Object.assign({style:{width:"100%",height:"100%"}},be),i.a.createElement(i.a.Fragment,null,i.a.createElement("canvas",{className:U.canvas,ref:Y}),i.a.createElement(kt,{videoPlaying:k,imagePosition:_e,mouseEvents:be,onLoad:Ie,videoTime:r,videoSrc:a,imageSrc:n,onChangeVideoTime:H,onChangeVideoPlaying:F}))),i.a.createElement("div",{className:U.zoomIndicator},(1/ge.a*100).toFixed(0),"%"))},Pt=Object(H.a)(f.a)({width:80,margin:2}),Dt=Object(H.a)("div")({fontWeight:"bold"}),Lt=Object(o.createContext)(),_t=Object(o.memo)(function(e){var t=e.name,n=e.disabled,a=e.Icon,o=e.onClick;return i.a.createElement(Pt,{disabled:n,onClick:o},i.a.createElement("div",null,i.a.createElement(a,null),i.a.createElement(Dt,null,t)))},function(e,t){return e.name===t.name&&e.disabled===t.disabled}),Bt=function(e){var t=e.name,n=e.disabled,a=e.Icon,r=Object(o.useContext)(Lt).onHeaderButtonClick,c=Object(B.a)(function(){return r(t)});return i.a.createElement(_t,{name:t,disabled:n,Icon:a,onClick:c})},Gt=n(160),zt=n.n(Gt),Wt=n(161),Vt=n.n(Wt),Ht=n(246),Ft=n.n(Ht),Ut=n(247),Yt=n.n(Ut),Jt=n(248),Kt=n.n(Jt),Xt=n(166),Zt=n.n(Xt),qt=n(249),Qt=n.n(qt),$t=n(245),en=n.n($t),tn={header:{display:"flex",position:"relative",flexDirection:"row",flexShrink:0,zIndex:10,boxShadow:"0px 3px 8px rgba(0,0,0,.1)"},fileInfo:{alignItems:"center",flexGrow:1,"&.videoMode":{flexMode:.1},display:"flex",fontWeight:"bold",color:D.a[800],marginRight:16,fontSize:24,paddingLeft:16}},nn=n(164),an=n.n(nn),on=n(89),rn=n(244),cn=Object(H.a)("div")({position:"relative",display:"flex",flexGrow:1,minWidth:240,marginLeft:16,marginRight:16}),ln=Object(H.a)("div")({position:"absolute",width:2,marginLeft:-1,height:"100%",backgroundColor:D.a[300],bottom:0}),sn=Object(H.a)("div")({position:"absolute",userSelect:"none",fontSize:10,color:D.a[600],fontWeight:"bold",bottom:0}),un=Object(H.a)("div")({position:"absolute",bottom:"calc(50% + 6px)",fontSize:10,fontWeight:"bold",color:"#fff",display:"grid",placeItems:"center",width:48,marginLeft:-24,borderRadius:2,height:24,backgroundColor:Oe.a[500],userSelect:"none",fontVariantNumeric:"tabular-nums","&::before":{position:"absolute",bottom:-6,left:16,content:'""',width:0,height:0,borderTop:"8px solid ".concat(Oe.a[500]),borderLeft:"8px solid transparent",borderRight:"8px solid transparent"}}),dn=Object(H.a)("div")((a={position:"absolute",bottom:8,cursor:"pointer",opacity:.75,fontSize:10,fontWeight:"bold",color:"#fff",display:"grid",placeItems:"center",width:16,marginLeft:0,borderTopLeftRadius:2,borderTopRightRadius:2,height:12},Object(N.a)(a,"marginLeft",-8),Object(N.a)(a,"backgroundColor",on.a[500]),Object(N.a)(a,"userSelect","none"),Object(N.a)(a,"fontVariantNumeric","tabular-nums"),Object(N.a)(a,"&::before",{position:"absolute",bottom:-8,left:0,content:'""',width:0,height:0,borderTop:"8px solid ".concat(on.a[500]),borderLeft:"8px solid transparent",borderRight:"8px solid transparent"}),a)),gn=[[50,250],[100,500],[250,1e3],[1e3,5e3],[5e3,3e4],[1e4,6e4],[3e4,12e4],[6e4,3e5],[3e5,18e5],[6e5,36e5],[18e5,108e5],[36e5,18e6]],mn=function(e){var t=e.currentTime,n=void 0===t?0:t,a=e.duration,r=e.onChangeCurrentTime,c=e.keyframes,l=Object(rn.a)(),s=Object(h.a)(l,2),u=s[0],d=s[1],g=Object(o.useState)(n),m=Object(h.a)(g,2),f=m[0],p=m[1],b=Object(ft.a)(!1),v=Object(h.a)(b,2),y=v[0],E=v[1],O=Object.keys(c||{}).map(function(e){return parseInt(e)}).filter(function(e){return!isNaN(e)}).sort(function(e,t){return e-t});Object(o.useEffect)(function(){n!==f&&p(n)},[n]);var x=Object(o.useMemo)(function(){return function(e){for(var t=0,n=gn;t<n.length;t++){var a=n[t],o=Object(h.a)(a,2),i=o[0],r=o[1];if(e/r<6&&e/r>2)return[i,r]}return[e/4,e]}(a)},[a]),j=Object(h.a)(x,2),w=j[0],I=j[1],T=Object(B.a)(function(e){if(y){var t=(e.clientX-d.left)/d.width;p(Math.min(a,Math.max(0,Math.floor(t*a))))}}),C=Object(B.a)(function(e){E(!1);var t=(e.clientX-d.left)/d.width,n=Math.min(a,Math.max(0,Math.floor(t*a)));p(n),r(n)});return a?i.a.createElement(cn,{onMouseMove:T,onMouseUp:C,ref:u},an()(0,a,I).map(function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(ln,{key:e,style:{left:e/a*d.width,height:"50%"}}),i.a.createElement(sn,{style:{left:e/a*d.width+8,bottom:"calc(50% - 12px)"}},Xe(e)))}),an()(0,a,w).filter(function(e){return!Number.isInteger(e/I)}).map(function(e){return i.a.createElement(ln,{key:e,style:{left:e/a*d.width,height:"25%"}})}),O.map(function(e){return i.a.createElement(dn,{onClick:function(){return r(e)},key:e,style:{left:e/a*d.width}})}),i.a.createElement(un,{onMouseDown:function(e){return E(!0)},style:{cursor:y?"grabbing":"grab",left:f/a*d.width}},Xe(f))):null},hn=Object(l.a)(tn),fn=function(e){var t=e.onHeaderButtonClick,n=e.title,a=e.inFullScreen,o=e.videoMode,r=(e.isAVideoFrame,e.nextVideoFrameHasRegions),c=void 0!==r&&r,l=e.videoDuration,s=e.currentVideoTime,u=e.multipleImages,d=e.videoPlaying,g=e.onChangeCurrentTime,m=e.keyframes,h=hn();return i.a.createElement("div",{className:h.header},i.a.createElement("div",{className:_()(h.fileInfo,o&&"videoMode")},n),o&&i.a.createElement(mn,{key:"keyframeTimeline",currentTime:s,duration:l,onChangeCurrentTime:g,keyframes:m}),i.a.createElement("div",{className:h.headerActions},i.a.createElement(Lt.Provider,{value:{onHeaderButtonClick:t}},u&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Bt,{name:"Prev",Icon:zt.a}),i.a.createElement(Bt,{name:"Next",Icon:Vt.a}),i.a.createElement(Bt,{name:"Clone",disabled:c,Icon:en.a})),o&&i.a.createElement(i.a.Fragment,null,d?i.a.createElement(Bt,{key:"pause",name:"Pause",Icon:Yt.a}):i.a.createElement(Bt,{key:"play",name:"Play",Icon:Ft.a})),i.a.createElement(Bt,{name:"Settings",Icon:Kt.a}),a?i.a.createElement(Bt,{name:"Window",Icon:Zt.a}):i.a.createElement(Bt,{name:"Fullscreen",Icon:Zt.a}),i.a.createElement(Bt,{name:"Save",Icon:Qt.a}))))},pn=n(70),bn=n(71),vn=n(961),yn=Object(o.createContext)(),En=Object(o.memo)(function(e){var t=e.id,n=e.name,a=e.icon,r=e.selected,c=e.togglable,l=e.alwaysShowing,s=void 0!==l&&l,u=Object(o.useContext)(yn),d=u.enabledTools,g=u.selectedTool,m=u.onClickTool;return d.includes(t)||s?(r=r||g===t,i.a.createElement(vn.a,{placement:"right",title:n},i.a.createElement("div",null,i.a.createElement(R.a,{disabled:c?void 0:r,"aria-label":n,onClick:function(){return m(t)},size:"small",style:{width:50,height:50,margin:1,color:r?Oe.a[500]:void 0}},a)))):null},function(e,t){return e.togglable===t.togglable&&e.selected===t.selected&&e.name===t.name&&e.id===t.id}),On=Object(l.a)({iconTools:{display:"flex",padding:4,flexDirection:"column",zIndex:9,boxShadow:"0px 0px 5px rgba(0,0,0,0.1)",borderRight:"1px solid ".concat(D.a[300]),backgroundColor:D.a[100]}}),xn=["select","create-point","create-box","create-polygon"],jn=function(e){var t=e.showTags,n=e.selectedTool,a=e.onClickTool,r=e.enabledTools,c=void 0===r?xn:r,l=On(),s=Object(o.useMemo)(function(){return{enabledTools:c,selectedTool:n,onClickTool:a}},[c,n]);return i.a.createElement("div",{className:l.iconTools},i.a.createElement(yn.Provider,{value:s},i.a.createElement(En,{id:"select",name:"Select Region",icon:i.a.createElement(pn.a,{size:"xs",fixedWidth:!0,icon:bn.d})}),i.a.createElement(En,{alwaysShowing:!0,id:"pan",name:"Drag/Pan",icon:i.a.createElement(pn.a,{size:"xs",fixedWidth:!0,icon:bn.c})}),i.a.createElement(En,{alwaysShowing:!0,id:"zoom",name:"Zoom In/Out",icon:i.a.createElement(pn.a,{size:"xs",fixedWidth:!0,icon:bn.e})}),i.a.createElement(En,{alwaysShowing:!0,togglable:!0,id:"show-tags",selected:t,name:"Show Tags",icon:i.a.createElement(pn.a,{size:"xs",fixedWidth:!0,icon:bn.f})}),i.a.createElement(En,{id:"create-point",name:"Add Point",icon:i.a.createElement(pn.a,{size:"xs",fixedWidth:!0,icon:bn.a})}),i.a.createElement(En,{id:"create-box",name:"Add Bounding Box",icon:i.a.createElement(pn.a,{size:"xs",fixedWidth:!0,icon:bn.g})}),i.a.createElement(En,{id:"create-polygon",name:"Add Polygon",icon:i.a.createElement(pn.a,{size:"xs",fixedWidth:!0,icon:bn.b})})))},wn={container:{display:"flex",flexGrow:1,flexDirection:"column",height:"100%",maxHeight:"100vh",backgroundColor:"#fff",overflow:"hidden","&.fullscreen":{position:"absolute",zIndex:99999,left:0,right:0,top:0,bottom:0}},workspace:{backgroundColor:D.a[200],flexGrow:1,display:"flex",flexDirection:"row",height:"100%",overflow:"hidden"},iconToolsContainer:{display:"flex"},imageCanvasContainer:{display:"flex",flexGrow:1,alignItems:"center",justifyContent:"center"},noImageSelected:{fontWeight:"bold",fontSize:32,color:D.a[500]},sidebarContainer:{width:300,flexShrink:0,overflowY:"auto",backgroundColor:D.a[100],borderLeft:"1px solid ".concat(D.a[300]),zIndex:9,height:"100%",boxShadow:"0px 0px 5px rgba(0,0,0,0.1)"}},In=n(251),Tn=n.n(In),Cn=n(252),Sn=n.n(Cn),Nn=function(e){var t=e.open,n=e.onClose,a=Ct();return i.a.createElement(v.a,{open:t||!1,onClose:n},i.a.createElement(y.a,null,"Settings"),i.a.createElement(E.a,{style:{minWidth:400}},i.a.createElement(Sn.a,{variant:"flat",noActions:!0,defaultAnswers:a,onQuestionChange:function(e,t,n){return a.changeSetting(e,t)},form:{questions:[{type:"boolean",title:"Show Crosshairs",name:"showCrosshairs"},{type:"dropdown",title:"Video Playback Speed",name:"videoPlaybackSpeed",defaultValue:"1x",choices:["0.25x","0.5x","1x","2x"]}]}})),i.a.createElement(O.a,null,i.a.createElement(f.a,{onClick:n},"Close")))},An=n(257),kn=n.n(An),Mn=function(e){return e.enabled?i.a.createElement(kn.a,e,e.children):e.children},Rn=function(e){var t,n,a=null;return"image"===e.annotationType?-1===(a=e.images.findIndex(function(t){return t.src===e.selectedImage&&(void 0===e.selectedImageFrameTime||t.frameTime===e.selectedImageFrameTime)}))?(a=null,n=null):(t=["images",a],n=Object(He.getIn)(e,t)):"video"===e.annotationType&&(t=["keyframes",e.currentVideoTime||0],n=Object(He.getIn)(e,t)||null),{currentImageIndex:a,pathToActiveImage:t,activeImage:n}},Pn=[],Dn=function(e,t){if(e[t||0])return e[t||0].regions;var n=Object.keys(e).map(function(e){return parseInt(e)}).filter(function(e){return!isNaN(e)});if(0===n.length)return Pn;n.sort(function(e,t){return e-t});var a=n.findIndex(function(e){return e>=t});if(-1===a)return e[n[n.length-1]].regions||Pn;if(0===a)return Pn;var o=n[a-1],i=e[o],r=n[a],c=e[r],l={},s={},u=!0,d=!1,g=void 0;try{for(var m,h=i.regions[Symbol.iterator]();!(u=(m=h.next()).done);u=!0){var f=m.value;l[f.id]=f}}catch(C){d=!0,g=C}finally{try{u||null==h.return||h.return()}finally{if(d)throw g}}var p=!0,b=!1,v=void 0;try{for(var y,E=c.regions[Symbol.iterator]();!(p=(y=E.next()).done);p=!0){var O=y.value;s[O.id]=O}}catch(C){b=!0,v=C}finally{try{p||null==E.return||E.return()}finally{if(b)throw v}}var x=[],j=(r-t)/(r-o),w=1-j,I=function(e){var t=[l[e],s[e]],n=t[0],a=t[1];if(!a)return x.push(Object(S.a)({},n,{highlighted:!1,editingLabels:!1})),"continue";switch(n.type){case"point":x.push(Object(S.a)({},n,{highlighted:!1,editingLabels:!1,x:n.x*j+a.x*w,y:n.y*j+a.y*w}));break;case"box":x.push(Object(S.a)({},n,{highlighted:!1,editingLabels:!1,x:n.x*j+a.x*w,y:n.y*j+a.y*w,w:n.w*j+a.w*w,h:n.h*j+a.h*w}));break;case"polygon":a.points.length===n.points.length?x.push(Object(S.a)({},n,{highlighted:!1,editingLabels:!1,points:n.points.map(function(e,t){return[e[0]*j+a.points[t][0]*w,e[1]*j+a.points[t][1]*w]})})):x.push(n)}};for(var T in l)I(T);return x},Ln=[],_n=Object(l.a)(wn),Bn=function(e){var t,n,a=e.state,r=e.dispatch,c=_n(),l=Ct(),s=Object(o.useRef)({}),u=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var o="".concat(e,"(").concat(n.join(","),")");if(s.current[o])return s.current[o];var i=function(){for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return n.length>0?r(Object(S.a)({type:e},n.reduce(function(e,t,n){return e[t]=a[n],e},{}))):r(Object(S.a)({type:e},a[0]))};return s.current[o]=i,i},d=Rn(a),g=d.currentImageIndex,m=d.activeImage;null!==g&&(n=a.images[g+1]),Tn()(function(){return r({type:"CANCEL"})},{detectKeys:[27]});var h=m&&void 0!==m.frameTime,f=function(e){if("video"!==e.annotationType)return Ln;var t=e.keyframes,n=e.currentVideoTime,a=void 0===n?0:n;return Object(o.useMemo)(function(){return Dn(t,a)},[t,a])}(a);return i.a.createElement(Mn,{enabled:a.fullScreen,onChange:function(e){e||u("HEADER_BUTTON_CLICKED","buttonName")("Exit Fullscreen")}},i.a.createElement("div",{className:_()(c.container,a.fullScreen&&"Fullscreen")},i.a.createElement("div",{className:c.headerContainer},i.a.createElement(fn,{onHeaderButtonClick:u("HEADER_BUTTON_CLICKED","buttonName"),videoMode:"video"===a.annotationType,inFullScreen:a.fullScreen,isAVideoFrame:h,nextVideoFrameHasRegions:!n||n.regions&&n.regions.length>0,videoDuration:a.videoDuration,multipleImages:a.images&&a.images.length>1,title:"image"===a.annotationType?m?m.name:"No Image Selected":a.videoName||"",onChangeCurrentTime:u("CHANGE_VIDEO_TIME","newTime"),videoPlaying:a.videoPlaying,currentVideoTime:a.currentVideoTime,keyframes:a.keyframes})),i.a.createElement("div",{className:c.workspace},i.a.createElement("div",{className:c.iconToolsContainer},i.a.createElement(jn,{enabledTools:a.enabledTools,showTags:a.showTags,selectedTool:a.selectedTool,onClickTool:u("SELECT_TOOL","selectedTool")})),i.a.createElement("div",{className:c.imageCanvasContainer},"image"!==a.annotationType||a.selectedImage?i.a.createElement("div",{style:{height:"100%",width:"100%"}},i.a.createElement(Rt,Object.assign({},l,(t={key:a.selectedImage,showTags:a.showTags,allowedArea:a.allowedArea,regionClsList:a.regionClsList,regionTagList:a.regionTagList,regions:"image"===a.annotationType?m.regions||[]:f,realSize:m?m.realSize:void 0,videoPlaying:a.videoPlaying,imageSrc:"image"===a.annotationType?a.selectedImage:null,videoSrc:"video"===a.annotationType?a.videoSrc:null,pointDistancePrecision:a.pointDistancePrecision,createWithPrimary:a.selectedTool.includes("create"),dragWithPrimary:"pan"===a.selectedTool,zoomWithPrimary:"zoom"===a.selectedTool,showPointDistances:a.showPointDistances},Object(N.a)(t,"pointDistancePrecision",a.pointDistancePrecision),Object(N.a)(t,"videoTime","image"===a.annotationType?a.selectedImageFrameTime:a.currentVideoTime),Object(N.a)(t,"onMouseMove",u("MOUSE_MOVE")),Object(N.a)(t,"onMouseDown",u("MOUSE_DOWN")),Object(N.a)(t,"onMouseUp",u("MOUSE_UP")),Object(N.a)(t,"onChangeRegion",u("CHANGE_REGION","region")),Object(N.a)(t,"onBeginRegionEdit",u("OPEN_REGION_EDITOR","region")),Object(N.a)(t,"onCloseRegionEdit",u("CLOSE_REGION_EDITOR","region")),Object(N.a)(t,"onDeleteRegion",u("DELETE_REGION","region")),Object(N.a)(t,"onBeginBoxTransform",u("BEGIN_BOX_TRANSFORM","box","directions")),Object(N.a)(t,"onBeginMovePolygonPoint",u("BEGIN_MOVE_POLYGON_POINT","polygon","pointIndex")),Object(N.a)(t,"onAddPolygonPoint",u("ADD_POLYGON_POINT","polygon","point","pointIndex")),Object(N.a)(t,"onSelectRegion",u("SELECT_REGION","region")),Object(N.a)(t,"onBeginMovePoint",u("BEGIN_MOVE_POINT","point")),Object(N.a)(t,"onImageOrVideoLoaded",u("IMAGE_OR_VIDEO_LOADED","metadata")),Object(N.a)(t,"onChangeVideoTime",u("CHANGE_VIDEO_TIME","newTime")),Object(N.a)(t,"onChangeVideoPlaying",u("CHANGE_VIDEO_PLAYING","isPlaying")),t)))):i.a.createElement("div",{className:c.noImageSelected},"No Image Selected")),i.a.createElement("div",{className:c.sidebarContainer},i.a.createElement(et,{debug:window.localStorage.$ANNOTATE_DEBUG_MODE&&a,taskDescription:a.taskDescription,images:a.images,regions:m?m.regions:null,history:a.history,currentImage:m,labelImages:a.labelImages,imageClsList:a.imageClsList,imageTagList:a.imageTagList,keyframes:a.keyframes,currentVideoTime:a.currentVideoTime,onChangeImage:u("CHANGE_IMAGE","delta"),onSelectRegion:u("SELECT_REGION","region"),onDeleteRegion:u("DELETE_REGION","region"),onSelectImage:u("SELECT_IMAGE","image"),onChangeRegion:u("CHANGE_REGION","region"),onRestoreHistory:u("RESTORE_HISTORY"),onChangeVideoTime:u("CHANGE_VIDEO_TIME","newTime"),onDeleteKeyframe:u("DELETE_KEYFRAME","time")}))),i.a.createElement(Nn,{open:a.settingsOpen,onClose:function(){return r({type:"HEADER_BUTTON_CLICKED",buttonName:"Settings"})}})))},Gn={BEGIN_BOX_TRANSFORM:"Transform/Move Box",BEGIN_MOVE_POINT:"Move Point",DELETE_REGION:"Delete Region"},zn=function(e,t){return Object(He.updateIn)(e,["history"],function(n){return[{time:_e()().toDate(),state:Object(He.without)(e,"history"),name:t}].concat((n||[]).slice(0,9))})},Wn=function(){return Math.random().toString().split(".")[1]},Vn=function(){var e,t,n=(e=0,t=360,Math.floor(Math.random()*(t-e+1))+e);return"hsl(".concat(n,",").concat(100,"%,").concat(50,"%)")},Hn=function(e,t){if("MOUSE_MOVE"===t.type){if(Date.now()-(e.lastMouseMoveCall||0)<16)return e;e=Object(He.setIn)(e,["lastMouseMoveCall"],Date.now())}t.type.includes("MOUSE")||(e=Object(He.setIn)(e,["lastAction"],t));var n=Rn(e),a=n.currentImageIndex,o=n.pathToActiveImage,i=n.activeImage,r=function(e){var t="string"===typeof e?e:e.id;if(!i)return null;var n=(i.regions||[]).findIndex(function(e){return e.id===t});return-1===n?null:n},c=function(e){if(!i)return null;var t=r(e);return null===t?[null,null]:[i.regions[t],t]},l=function(t,n){var a=c(t),r=Object(h.a)(a,2),l=r[0],s=r[1];if(!l)return e;if(null!==n)return Object(He.setIn)(e,[].concat(Object(tt.a)(o),["regions",s]),Object(S.a)({},l,n));var u=i.regions;return Object(He.setIn)(e,[].concat(Object(tt.a)(o),["regions"]),(u||[]).filter(function(e){return e.id!==l.id}))},s=function(e){return i?Object(He.setIn)(e,[].concat(Object(tt.a)(o),["regions"]),(i.regions||[]).map(function(e){return Object(S.a)({},e,{highlighted:!1})})):e},u=function(e){return null===a?e:Object(He.setIn)(e,[].concat(Object(tt.a)(o),["regions"]),(i.regions||[]).map(function(e){return Object(S.a)({},e,{editingLabels:!1})}))},d=function(t){var n="object"===typeof t?t:{src:t},a=n.src,o=n.frameTime;return Object(He.setIn)(Object(He.setIn)(e,["selectedImage"],a),["selectedImageFrameTime"],o)};switch(t.type){case"@@INIT":return e;case"SELECT_IMAGE":return d(t.image);case"CHANGE_REGION":var g=r(t.region);if(null===g)return e;var m=i.regions[g];return m.cls!==t.region.cls&&(e=zn(e,"Change Region Classification")),ee()(m.tags,t.region.tags)||(e=zn(e,"Change Region Tags")),Object(He.setIn)(e,[].concat(Object(tt.a)(o),["regions",g]),t.region);case"CHANGE_IMAGE":if(!i)return e;for(var f=t.delta,p=0,b=Object.keys(f);p<b.length;p++){var v=b[p];"cls"===v&&zn(e,"Change Image Class"),"tags"===v&&zn(e,"Change Image Tags"),e=Object(He.setIn)(e,[].concat(Object(tt.a)(o),[v]),f[v])}return e;case"SELECT_REGION":var y=t.region;if(null===r(t.region))return e;var E=Object(tt.a)(i.regions||[]).map(function(e){return Object(S.a)({},e,{highlighted:e.id===y.id,editingLabels:e.id===y.id})});return Object(He.setIn)(e,[].concat(Object(tt.a)(o),["regions"]),E);case"BEGIN_MOVE_POINT":return e=u(e),Object(He.setIn)(e,["mode"],{mode:"MOVE_REGION",regionId:t.point.id});case"BEGIN_BOX_TRANSFORM":var O=t.box,x=t.directions;return e=u(e),0===x[0]&&0===x[1]?Object(He.setIn)(e,["mode"],{mode:"MOVE_REGION",regionId:O.id}):Object(He.setIn)(e,["mode"],{mode:"RESIZE_BOX",regionId:O.id,freedom:x,original:{x:O.x,y:O.y,w:O.w,h:O.h}});case"BEGIN_MOVE_POLYGON_POINT":var j=t.polygon,w=t.pointIndex;return(e=u(e)).mode&&"DRAW_POLYGON"===e.mode.mode&&0===w?Object(He.setIn)(l(j,{points:j.points.slice(0,-1),open:!1}),["mode"],null):(e=zn(e,"Move Polygon Point"),Object(He.setIn)(e,["mode"],{mode:"MOVE_POLYGON_POINT",regionId:j.id,pointIndex:w}));case"ADD_POLYGON_POINT":var I=t.polygon,T=t.point,C=t.pointIndex,N=r(I);if(null===N)return e;var A=Object(tt.a)(I.points);return A.splice(C,0,T),Object(He.setIn)(e,[].concat(Object(tt.a)(o),["regions",N]),Object(S.a)({},I,{points:A}));case"MOUSE_MOVE":var k=t.x,M=t.y;if(!e.mode)return e;if(!i)return e;switch(e.mode.mode){case"MOVE_POLYGON_POINT":var R=e.mode,P=R.pointIndex,D=R.regionId,L=r(D);return null===L?e:Object(He.setIn)(e,[].concat(Object(tt.a)(o),["regions",L,"points",P]),[k,M]);case"MOVE_REGION":var _=e.mode.regionId,B=r(_);return null===B?e:Object(He.setIn)(e,[].concat(Object(tt.a)(o),["regions",B]),function(e,t,n){switch(e.type){case"point":return Object(S.a)({},e,{x:t,y:n});case"box":return Object(S.a)({},e,{x:t-e.w/2,y:n-e.h/2})}return e}(i.regions[B],k,M));case"RESIZE_BOX":var G=e.mode,z=G.regionId,W=Object(h.a)(G.freedom,2),V=W[0],H=W[1],F=G.original,U=F.x,Y=F.y,J=F.w,K=F.h,X=r(z);if(null===X)return e;var Z=i.regions[X],q=0===V?U:-1===V?Math.min(U+J,k):U,Q=0===V?J:-1===V?J+(U-q):Math.max(0,J+(k-U-J)),$=0===H?Y:-1===H?Math.min(Y+K,M):Y,te=0===H?K:-1===H?K+(Y-$):Math.max(0,K+(M-Y-K));return Q<=.001&&(e=Object(He.setIn)(e,["mode","freedom"],[-1*V,H])),te<=.001&&(e=Object(He.setIn)(e,["mode","freedom"],[V,-1*H])),Object(He.setIn)(e,[].concat(Object(tt.a)(o),["regions",X]),Object(S.a)({},Z,{x:q,w:Q,y:$,h:te}));case"DRAW_POLYGON":var ne=e.mode.regionId,ae=c(ne),oe=Object(h.a)(ae,2),ie=oe[0],re=oe[1];return ie?Object(He.setIn)(e,[].concat(Object(tt.a)(o),["regions",re,"points",ie.points.length-1]),[k,M]):Object(He.setIn)(e,["mode"],null)}return e;case"MOUSE_DOWN":if(!i)return e;var ce,le=t.x,se=t.y;if(e.allowedArea){var ue=e.allowedArea;if(le<ue.x||le>ue.x+ue.w||se<ue.y||se>ue.y+ue.h)return e}switch(e.selectedTool){case"create-point":e=zn(e,"Create Point"),ce={type:"point",x:le,y:se,highlighted:!0,editingLabels:!0,color:Vn(),id:Wn()};break;case"create-box":e=zn(e,"Create Box"),ce={type:"box",x:le,y:se,w:.01,h:.01,highlighted:!0,editingLabels:!1,color:Vn(),id:Wn()},e=s(e),e=Object(He.setIn)(e,["mode"],{mode:"RESIZE_BOX",editLabelEditorAfter:!0,regionId:ce.id,freedom:[1,1],original:{x:le,y:se,w:ce.w,h:ce.h},isNew:!0});break;case"create-polygon":if(e.mode&&"DRAW_POLYGON"===e.mode.mode)break;e=zn(e,"Create Polygon"),ce={type:"polygon",points:[[le,se],[le,se]],open:!0,highlighted:!0,color:Vn(),id:Wn()},e=Object(He.setIn)(e,["mode"],{mode:"DRAW_POLYGON",regionId:ce.id})}if(ce&&(e=s(e)),e.mode)switch(e.mode.mode){case"DRAW_POLYGON":var de=c(e.mode.regionId),ge=Object(h.a)(de,2),me=ge[0],he=ge[1];if(!me)break;return Object(He.setIn)(e,[].concat(Object(tt.a)(o),["regions",he]),Object(S.a)({},me,{points:me.points.concat([[le,se]])}))}var fe=Object(tt.a)(i.regions||[]).map(function(e){return Object(S.a)({},e,{editingLabels:!1})}).concat(ce?[ce]:[]);return Object(He.setIn)(e,[].concat(Object(tt.a)(o),["regions"]),fe);case"MOUSE_UP":var pe=t.x,be=t.y;if(!e.mode)return e;switch(e.mode.mode){case"RESIZE_BOX":if(e.mode.isNew&&Math.abs(e.mode.original.x-pe)<.01&&Math.abs(e.mode.original.y-be)<.01)return Object(He.setIn)(l(e.mode.regionId,null),["mode"],null);if(e.mode.editLabelEditorAfter)return Object(S.a)({},l(e.mode.regionId,{editingLabels:!0}),{mode:null});case"MOVE_REGION":case"MOVE_POLYGON_POINT":return Object(S.a)({},e,{mode:null})}return e;case"CHANGE_REGION":var ve=t.region,ye=r(t.region);return null===ye?e:Object(He.setIn)(e,[].concat(Object(tt.a)(o),["regions",ye]),ve);case"OPEN_REGION_EDITOR":t.region;var Ee=r(t.region);if(null===Ee)return e;var Oe=Object(He.setIn)(i.regions.map(function(e){return Object(S.a)({},e,{highlighted:!1,editingLabels:!1})}),[Ee],Object(S.a)({},(i.regions||[])[Ee],{highlighted:!0,editingLabels:!0}));return Object(He.setIn)(e,[].concat(Object(tt.a)(o),["regions"]),Oe);case"CLOSE_REGION_EDITOR":t.region;var xe=r(t.region);return null===xe?e:Object(He.setIn)(e,[].concat(Object(tt.a)(o),["regions",xe]),Object(S.a)({},(i.regions||[])[xe],{editingLabels:!1}));case"DELETE_REGION":return null===r(t.region)?e:Object(He.setIn)(e,[].concat(Object(tt.a)(o),["regions"]),(i.regions||[]).filter(function(e){return e.id!==t.region.id}));case"HEADER_BUTTON_CLICKED":switch(t.buttonName.toLowerCase()){case"prev":return null===a?e:0===a?e:d(e.images[a-1]);case"next":return null===a?e:a===e.images.length-1?e:d(e.images[a+1]);case"clone":return null===a?e:a===e.images.length-1?e:Object(He.setIn)(d(e.images[a+1]),["images",a+1,"regions"],i.regions);case"settings":return Object(He.setIn)(e,["settingsOpen"],!e.settingsOpen);case"help":return e;case"fullscreen":return Object(He.setIn)(e,["fullScreen"],!0);case"exit fullscreen":case"window":return Object(He.setIn)(e,["fullScreen"],!1);case"hotkeys":return e;case"exit":case"done":return e}return e;case"SELECT_TOOL":return e=Object(He.setIn)(e,["mode"],null),"show-tags"===t.selectedTool?Object(He.setIn)(e,["showTags"],!e.showTags):Object(He.setIn)(e,["selectedTool"],t.selectedTool);case"CANCEL":var je=e.mode;if(je)switch(je.mode){case"DRAW_POLYGON":return l(je.regionId,null);case"MOVE_POLYGON_POINT":case"RESIZE_BOX":case"MOVE_REGION":return Object(He.setIn)(e,["mode"],null)}var we=i.regions;return we.some(function(e){return e.editingLabels})?Object(He.setIn)(e,[].concat(Object(tt.a)(o),["regions"]),we.map(function(e){return Object(S.a)({},e,{editingLabels:!1})})):Object(He.setIn)(e,[].concat(Object(tt.a)(o),["regions"]),we.map(function(e){return Object(S.a)({},e,{highlighted:!1})}))}return e},Fn=function(e,t){var n=Rn(e),a=n.currentImageIndex;n.pathToActiveImage,n.activeImage;switch(t.type){case"IMAGE_LOADED":return Object(He.setIn)(e,["images",a,"pixelSize"],{w:t.image.width,h:t.image.height})}return e},Un=function(e,t){var n=function(){return Object(He.setIn)(zn(e,"Add Keyframe"),["keyframes",e.currentVideoTime],{regions:Dn(e.keyframes,e.currentVideoTime)})};switch(t.type){case"IMAGE_OR_VIDEO_LOADED":var a=t.metadata.duration;if("number"===typeof a)return Object(He.setIn)(e,["videoDuration"],1e3*a);case"HEADER_BUTTON_CLICKED":switch(t.buttonName.toLowerCase()){case"play":return Object(He.setIn)(e,["videoPlaying"],!0);case"pause":return Object(He.setIn)(e,["videoPlaying"],!1)}case"CHANGE_VIDEO_TIME":return Object(He.setIn)(e,["currentVideoTime"],t.newTime);case"CHANGE_VIDEO_PLAYING":return Object(He.setIn)(e,["videoPlaying"],t.isPlaying);case"DELETE_KEYFRAME":return Object(He.setIn)(e,["keyframes"],Object(He.without)(e.keyframes,t.time))}if(!e.keyframes[e.currentVideoTime])switch(t.type){case"BEGIN_BOX_TRANSFORM":case"BEGIN_MOVE_POINT":case"BEGIN_MOVE_POLYGON_POINT":case"BEGIN_BOX_TRANSFORM":case"BEGIN_MOVE_POLYGON_POINT":case"ADD_POLYGON_POINT":case"SELECT_REGION":case"CHANGE_REGION":case"DELETE_REGION":case"OPEN_REGION_EDITOR":return n();case"MOUSE_DOWN":switch(e.selectedTool){case"create-point":case"create-polygon":case"create-box":return n()}}return e},Yn=function(e){var t=e.images,n=e.allowedArea,a=e.selectedImage,r=void 0===a?t&&t.length>0?t[0].src:void 0:a,c=e.showPointDistances,l=e.pointDistancePrecision,s=e.showTags,u=void 0===s||s,d=e.enabledTools,g=void 0===d?["select","create-point","create-box","create-polygon"]:d,m=e.regionTagList,f=void 0===m?[]:m,p=e.regionClsList,b=void 0===p?[]:p,v=e.imageTagList,y=void 0===v?[]:v,E=e.imageClsList,O=void 0===E?[]:E,x=e.keyframes,j=void 0===x?{}:x,w=e.taskDescription,I=e.videoSrc,T=e.videoTime,C=void 0===T?0:T,N=e.videoName,A=e.onExit;if(!t&&!I)return'Missing required prop "images" or "videoSrc"';var k,M=t?"image":"video",R=Object(o.useReducer)((k=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){for(var a=0,o=t;a<o.length;a++)e=(0,o[a])(e,n);return e}}("image"===M?Fn:Un,Hn),function(e,t){var n=e,a=k(e,t);if("RESTORE_HISTORY"===t.type){if(e.history.length>0)return Object(He.setIn)(a.history[0].state,["history"],a.history.slice(1))}else if(n!==a&&Object.keys(Gn).includes(t.type))return Object(He.setIn)(a,["history"],[{time:_e()().toDate(),state:Object(He.without)(n,"history"),name:Gn[t.type]||t.type}].concat(a.history||[]).slice(0,9));return a}),Fe()(Object(S.a)({annotationType:M,showTags:u,allowedArea:n,showPointDistances:c,pointDistancePrecision:l,selectedTool:"select",mode:null,taskDescription:w,labelImages:O.length>0||y.length>0,regionClsList:b,regionTagList:f,imageClsList:O,imageTagList:y,currentVideoTime:C,enabledTools:g,history:[],videoName:N},"image"===M?{selectedImage:r,images:t,selectedImageFrameTime:t&&t.length>0?t[0].frameTime:void 0}:{videoSrc:I,keyframes:j}))),P=Object(h.a)(R,2),D=P[0],L=P[1],_=Object(B.a)(function(e){"HEADER_BUTTON_CLICKED"===e.type&&["Exit","Done","Save","Complete"].includes(e.buttonName)?A(Object(He.without)(D,"history")):L(e)});return i.a.createElement(St,null,i.a.createElement(Bn,{state:D,dispatch:_}))},Jn=n(97),Kn=n(134),Xn=n(136),Zn=n(135),qn=n(137),Qn=function(e){function t(){var e,n;Object(Jn.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(Xn.a)(this,(e=Object(Zn.a)(t)).call.apply(e,[this].concat(o)))).state={hasError:!1,err:""},n}return Object(qn.a)(t,e),Object(Kn.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0,err:e.toString()+"\n\n"+t.componentStack})}},{key:"render",value:function(){return this.state.hasError?i.a.createElement(v.a,{open:this.state.hasError,onClose:this.props.onClose},i.a.createElement(y.a,null,"Error Loading Annotator"),i.a.createElement(E.a,null,i.a.createElement("pre",null,this.state.err)),i.a.createElement(O.a,null,i.a.createElement(f.a,{onClick:this.props.onClose},"Close"))):this.props.children}}]),t}(o.Component),$n=function(){var e=Object(o.useState)(!1),t=Object(h.a)(e,2),n=t[0],a=t[1],r=Object(o.useState)(T.Custom()),c=Object(h.a)(r,2),l=c[0],s=c[1],u=Object(o.useState)(),d=Object(h.a)(u,2),g=d[0],m=d[1];return i.a.createElement("div",null,n?i.a.createElement(Qn,{onClose:function(){a(!1)}},i.a.createElement(Yn,Object.assign({},l,{onExit:function(e){delete e.lastAction,m(e),a(!1)}}))):i.a.createElement(C,{lastOutput:g,onOpenAnnotator:function(e){s(e),a(!0)}}))},ea=n(258),ta=(n(711),n(957)),na=n(260),aa=Object(H.a)("div")({display:"flex",flexDirection:"column",alignItems:"center"}),oa=Object(H.a)("div")({width:"100%",boxSizing:"border-box",display:"flex",flexDirection:"column",maxWidth:1200}),ia=Object(H.a)("div")({width:"100%",display:"flex",justifyContent:"center",backgroundColor:Oe.a[600],padding:8,boxSizing:"border-box"}),ra=Object(H.a)(f.a)({color:"white",margin:8,padding:16,paddingLeft:24,paddingRight:24}),ca=Object(H.a)("div")({display:"flex",justifyContent:"center",width:"100%",backgroundColor:Oe.a[500],padding:16,color:"white",boxSizing:"border-box"}),la=Object(H.a)("div")({fontSize:48,fontWeight:"bold",paddingTop:64,textShadow:"0px 1px 5px rgba(0,0,0,0.3)"}),sa=Object(H.a)("div")({paddingTop:32,lineHeight:1.5,fontSize:24,textShadow:"0px 1px 3px rgba(0,0,0,0.2)"}),ua=Object(H.a)("div")({paddingTop:32,paddingBottom:48}),da=Object(H.a)("div")({display:"flex",padding:16,paddingTop:32,flexDirection:"column"}),ga=function(e){var t=e.language,n=e.value;return i.a.createElement(ta.a,{language:t,style:na.docco},n)};function ma(e,t){return"string"===typeof t?e+t:i.a.Children.toArray(t.props.children).reduce(ma,e)}function ha(e){var t=i.a.Children.toArray(e.children).reduce(ma,"").toLowerCase().replace(/\W/g,"-");return i.a.createElement("h"+e.level,{id:t},e.children)}var fa=function(){return i.a.createElement(aa,null,i.a.createElement(ia,{id:"about"},i.a.createElement(oa,{style:{flexDirection:"row",flexGrow:1}},i.a.createElement(ra,{href:"#features"},"Features"),i.a.createElement(ra,{href:"#usage"},"Usage"),i.a.createElement(ra,{href:"#props"},"Props"),i.a.createElement(ra,{href:"./demo"},"Demo Playground"))),i.a.createElement(ca,null,i.a.createElement(oa,null,i.a.createElement(la,null,"React Image Annotate"),i.a.createElement(sa,null,"Powerful React component for image annotations with bounding boxes, tagging, classification, multiple images and polygon segmentation."),i.a.createElement(ua,null,i.a.createElement(ea.a,{href:"https://github.com/waoai/react-image-annotate","data-size":"large","data-show-count":"true","aria-label":"Star waoai/react-image-annotate on GitHub"},"Star")))),i.a.createElement(oa,{className:"markdown-body"},i.a.createElement(da,{className:"markdown-body"},i.a.createElement(U.a,{escapeHtml:!1,source:'# Features\n\n- Simple input/output format\n- Bounding Box, Point and Polygon Annotation\n- Zooming, Scaling, Panning\n- Multiple Images\n- Cursor Crosshair\n\n![Screenshot of Annotator](https://user-images.githubusercontent.com/1910070/51199716-83c72080-18c5-11e9-837c-c3a89c8caef4.png)\n\n# Usage\n\n## Installation\n\n```bash\nnpm install react-image-annotate\n```\n\n## Basic Example\n\n```javascript\nimport ReactImageAnnotate from "react-image-annotate"\n\nconst App = () => (\n  <ReactImageAnnotate\n    selectedImage="https://example.com/image1.png"\n    taskDescription="# Draw region around each animal."\n    images={[{ src: "https://example.com/image1.png", name: "Image 1" }]}\n    regionClsList={["Dog", "Cat"]}\n    enabledTools={["create-box"]}\n  />\n)\n```\n\n# Props\n\nAll of the following properties can be defined on the `ReactImageAnnotate` component...\n\n| Prop                     | Type (\\* = required)                             | Description                                                                             | Default       |\n| ------------------------ | ------------------------------------------------ | --------------------------------------------------------------------------------------- | ------------- |\n| `taskDescription`        | \\*`string`                                       | Markdown description for what to do in the image.                                       |               |\n| `allowedArea`            | `{ x: number, y: number, w: number, h: number }` | Area that is available for annotation.                                                  | Entire image. |\n| `regionTagList`          | `Array<string>`                                  | Allowed "tags" (mutually inclusive classifications) for regions.                        |               |\n| `regionClsList`          | `Array<string>`                                  | Allowed "classes" (mutually exclusive classifications) for regions.                     |               |\n| `imageTagList`           | `Array<string>`                                  | Allowed tags for entire image.                                                          |               |\n| `imageClsList`           | `Array<string>`                                  | Allowed classes for entire image.                                                       |               |\n| `enabledTools`           | `Array<string>`                                  | Tools allowed to be used. e.g. "select", "create-point", "create-box", "create-polygon" | Everything.   |\n| `showTags`               | `boolean`                                        | Show tags and allow tags on regions.                                                    | `true`        |\n| `selectedImage`          | `string`                                         | URL of initially selected image.                                                        |               |\n| `images`                 | `Array<Image>`                                   | Array of images to load into annotator                                                  |               |\n| `showPointDistances`     | `boolean`                                        | Show distances between points.                                                          | `false`       |\n| `pointDistancePrecision` | `number`                                         | Precision on displayed points (e.g. 3 => 0.123)                                         |               |\n| `onExit`                 | `MainLayoutState => any`                         | Called when "Save" is called.                                                           |               |\n\n# Sponsors\n\n[![wao.ai sponsorship image](https://s3.amazonaws.com/asset.workaround.online/sponsorship-banner-1.png)](https://wao.ai)\n',renderers:{code:ga,heading:ha}}))))};n(901);c.a.render(i.a.createElement(function(){var e=window.location.pathname.replace(/\/$/,"").split("/").slice(-1)[0];return i.a.createElement(m,null,"demo"===e?i.a.createElement($n,null):i.a.createElement(fa,null))},null),document.getElementById("root"))}},[[276,1,2]]]);
//# sourceMappingURL=main.f47c15de.chunk.js.map